const translations = {
    ru: {       
                donate: "Донат",
                cases: "Кейсы",
                rules: "Правила",
                contacts: "Контакты",
                hero_title: "RIGHTHORIZON",
                hero_subtitle: "Погрузись в игровой мир нашего сервера: исследуй просторы, строй грандиозные базы, участвуй в ивентах и стань частью дружного сообщества!",
                server_unavailable: "[СЕРВЕР НЕДОСТУПЕН!]",
                join_button: "Присоединиться",
                why_best_server: "Почему наш сервер?",
                unique_landscape: "Уникальный ландшафт",
                landscape_desc: "Генерация мира с усиленными горными биомами, глубокими каньонами и живописными долинами. Идеально для строительства и исследований.",
                friendly_community: "Дружное сообщество",
                community_desc: "Наш сервер объединяет творческих строителей и исследователей. Регулярные ивенты и конкурсы с ценными призами.",
                admin_support: "Стабильная связь с администрацией",
                support_desc: "Присоиденяйтесь к дискорду, либо телеграмм, чтобы отбратиться за помощью. Мы всегда рады Вам помочь, чем угодно.",
                server_uptime: "Работа сервера",
                game_version: "Версия игры",
                active_players: "Активных игроков",
                project_staff: "Всех сотрудников проекта",
                server_gallery: "Галерея сервера",
                dragon_image: "Дракоша",
                my_stage: "Я на своей сцене",
                vladislav: "Владислав",
                view_all: "Смотреть все",
                support_server: "Поддержать сервер",
                support_description: "Ваша поддержка помогает развивать сервер и улучшать игровой опыт для всех",
                mountain_wanderer: "Shadow",
                chat_prefix: "Префикс в чате",
                extra_homes_3: "3 дополнительных дома",
                buy: "Купить",
                popular: "Популярно",
                mountain_master: "Monster",
                extra_homes_10: "10 дополнительных домов",
                private_world_access: "Доступ к приватному миру",
                mountain_legend: "Horizon",
                unlimited_homes: "Неограниченные дома",
                personal_admin_help: "Персональная помощь от админов",
                ready_for_adventure: "Готов к приключениям?",
                join_community: "Присоединяйся к нашему сообществу исследователей и строителей. Начни свое путешествие среди величественных гор уже сегодня!",
                server_ip: "IP-адрес сервера:",
                copy: "Копировать",
                server_not: "[СЕРВЕР НЕДОСТУПЕН!]",
                our_contacts: "Наши контакты",
                contact_us_any_questions: "Свяжитесь с нами по любым вопросам",
                join_community_discord: "Присоединяйтесь к нашему сообществу",
                news_chat_announcements: "Новости, чат и анонсы",
                business_proposals: "Для деловых предложений",
                copyright: "© 2026 RightHorizon. Все права защищены.",
                created_by: "Создателем является -",
                site_alpha_mode: "Сайт пока в альфа режиме и ничего еще нету, ждите обновлений. Версия сайта Alpha-0.1693",
                old_site_versions: "Старые версии моих сайтов -> RH_Alpha-0.0412 - RH_Alpha-0.0018" },
    uk: {       
                donate: "Донат",
                cases: "Кейси",
                rules: "Правила",
                contacts: "Контакти",
                hero_title: "RIGHTHORIZON",
                hero_subtitle: "Занурся у ігровий світ нашого сервера: досліджуй простори, будуй грандіозні бази, бери участь у івентах і стань частиною дружньої спільноти!",
                server_unavailable: "[СЕРВЕР НЕДОСТУПНИЙ!]",
                join_button: "Приєднатися",
                why_best_server: "Чому наш сервер?",
                unique_landscape: "Унікальний ландшафт",
                landscape_desc: "Генерація світу з посиленими гірськими біомами, глибокими каньйонами та мальовничими долинами. Ідеально для будівництва та досліджень.",
                friendly_community: "Дружня спільнота",
                community_desc: "Наш сервер об'єднує творчих будівельників та дослідників. Регулярні івенти та конкурси з цінними призами.",
                admin_support: "Стабільний зв'язок з адміністрацією",
                support_desc: "Приєднуйтесь до дискорду, або телеграму, щоб звернутися за допомогою. Ми завжди раді Вам допомогти, чим завгодно.",
                server_uptime: "Робота сервера",
                game_version: "Рекомендована версія гри",
                active_players: "Активних гравців",
                project_staff: "Всіх співробітників проекту",
                server_gallery: "Галерея сервера",
                dragon_image: "Дракоша",
                my_stage: "Я на своїй сцені",
                vladislav: "Владислав",
                view_all: "Дивитися все",
                support_server: "Підтримати сервер",
                support_description: "Ваша підтримка допомагає розвивати сервер та покращувати ігровий досвід для всіх",
                mountain_wanderer: "Shadow",
                chat_prefix: "Префікс в чаті",
                extra_homes_3: "3 додаткових будинки",
                buy: "Купити",
                popular: "Популярно",
                mountain_master: "Monster",
                extra_homes_10: "10 додаткових будинків",
                private_world_access: "Доступ до приватного світу",
                mountain_legend: "Horizon",
                unlimited_homes: "Необмежені будинки",
                personal_admin_help: "Персональна допомога від адмінів",
                ready_for_adventure: "Готовий до пригод?",
                join_community: "Приєднуйся до нашої спільноти дослідників та будівельників. Почни свою подорож серед величних гір вже сьогодні!",
                server_ip: "IP-адреса сервера:",
                copy: "Копіювати",
                server_not: "[СЕРВЕР НЕДОСТУПНИЙ!]",
                our_contacts: "Наші контакти",
                contact_us_any_questions: "Зв'яжіться з нами з будь-яких питань",
                join_community_discord: "Приєднуйтесь до нашої спільноти",
                news_chat_announcements: "Новини, чат та анонси",
                business_proposals: "Для ділових пропозицій",
                copyright: "© 2026 RightHorizon. Всі права захищені.",
                created_by: "Створювачем є -",
                site_alpha_mode: "Сайт поки в альфа режимі і нічого ще немає, чекайте оновлень. Версія сайту Alpha-0.1693",
                old_site_versions: "Старі версії моїх сайтів -> RH_Alpha-0.0412 - RH_Alpha-0.0018" },
    en: {
                donate: "Donate",
                cases: "Cases",
                rules: "Rules",
                contacts: "Contacts",
                hero_title: "RIGHTHORIZON",
                hero_subtitle: "Immerse yourself in the game world of our server: explore the expanses, build grand bases, participate in events and become part of a friendly community!",
                server_unavailable: "[SERVER UNAVAILABLE!]",
                join_button: "Join",
                why_best_server: "Why our server?",
                unique_landscape: "Unique Landscape",
                landscape_desc: "World generation with enhanced mountain biomes, deep canyons and picturesque valleys. Perfect for building and research.",
                friendly_community: "Friendly Community",
                community_desc: "Our server brings together creative builders and researchers. Regular events and contests with valuable prizes.",
                admin_support: "Stable Connection with Administration",
                support_desc: "Join Discord or Telegram to seek help. We are always happy to help you with anything.",
                server_uptime: "Server Uptime",
                game_version: "Recomended game version",
                active_players: "Active Players",
                project_staff: "All Project Staff",
                server_gallery: "Server Gallery",
                dragon_image: "Dragon",
                my_stage: "Me on my stage",
                vladislav: "Vladislav",
                view_all: "View All",
                support_server: "Support Server",
                support_description: "Your support helps develop the server and improve the gaming experience for everyone",
                mountain_wanderer: "Shadow",
                chat_prefix: "Chat Prefix",
                extra_homes_3: "3 Extra Homes",
                buy: "Buy",
                popular: "Popular",
                mountain_master: "Monster",
                extra_homes_10: "10 Extra Homes",
                private_world_access: "Access to Private World",
                mountain_legend: "Horizon",
                unlimited_homes: "Unlimited Homes",
                personal_admin_help: "Personal Help from Admins",
                ready_for_adventure: "Ready for Adventure?",
                join_community: "Join our community of explorers and builders. Begin your journey among majestic mountains today!",
                server_ip: "Server IP Address:",
                copy: "Copy",
                server_not: "[SERVER UNAVAILABLE!]",
                our_contacts: "Our Contacts",
                contact_us_any_questions: "Contact us with any questions",
                join_community_discord: "Join our community",
                news_chat_announcements: "News, Chat and Announcements",
                business_proposals: "For Business Proposals",
                copyright: "© 2026 RightHorizon. All rights reserved.",
                created_by: "Created by -",
                site_alpha_mode: "The site is still in alpha mode and nothing is available yet, wait for updates. Site version Alpha-0.1693",
                old_site_versions: "Old versions of my sites -> RH_Alpha-0.0412 - RH_Alpha-0.0018"}
};

// ==== SET LANGUAGE ====
function setLanguage(lang) {
    const titleMap = {
        ru: "RightHorizon - Мир среди вершин",
        uk: "RightHorizon - Світ серед вершин",
        en: "RightHorizon - World Among the Peaks"
    };

    // Меняем title
    document.title = titleMap[lang] || titleMap.uk;

    // Меняем все элементы с data-lang-key
    document.querySelectorAll("[data-lang-key]").forEach(el => {
        const key = el.getAttribute("data-lang-key");
        const text = translations[lang]?.[key];
        if (text !== undefined) el.textContent = text;
    });

    localStorage.setItem("preferredLanguage", lang);
}

// ==== SMOOTH SCROLL ====
function smoothScrollTo(target) {
    const targetPos = target.getBoundingClientRect().top + window.pageYOffset;
    const startPos = window.pageYOffset;
    const distance = targetPos - startPos;
    const duration = 800;
    let startTime = null;

    function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;

        const run = easeInOutQuad(timeElapsed, startPos, distance, duration);
        window.scrollTo(0, run);

        if (timeElapsed < duration) requestAnimationFrame(animation);
    }

    function easeInOutQuad(t, b, c, d) {
        t /= d / 2;
        if (t < 1) return c / 2 * t * t + b;
        t--;
        return -c / 2 * (t * (t - 2) - 1) + b;
    }

    requestAnimationFrame(animation);
}

// ==== DOM READY ====
document.addEventListener("DOMContentLoaded", function() {

    // Восстановить язык
    const savedLang = localStorage.getItem("preferredLanguage") || "uk";
    setLanguage(savedLang);

    // Привязка селекторов
    const ls = document.getElementById("language-selector");
    const mls = document.getElementById("mobile-language-selector");

    if (ls) {
        ls.value = savedLang;
        ls.addEventListener("change", () => setLanguage(ls.value));
    }

    if (mls) {
        mls.value = savedLang;
        mls.addEventListener("change", () => setLanguage(mls.value));
    }

    // Плавный скролл по якорям
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) smoothScrollTo(target);
        });
    });

    // Мобильное меню
    const mobileMenuBtn = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");

    if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener("click", () => {
            const isClosed = mobileMenu.classList.contains("max-h-0");
            if (isClosed) {
                mobileMenu.classList.remove("max-h-0");
                mobileMenu.classList.add("max-h-96");
            } else {
                mobileMenu.classList.remove("max-h-96");
                mobileMenu.classList.add("max-h-0");
            }
        });
    }

});